"use strict";

const { URL, URLSearchParams } = require("./webidl2js-wrapper");
const urlStateMachine = require("./lib/url-state-machine");
const percentEncoding = require("./lib/percent-encoding");

const sharedGlobalObject = { Array, Object, Promise, String, TypeError };
URL.install(sharedGlobalObject, ["Window"]);
URLSearchParams.install(sharedGlobalObject, ["Window"]);

exports.URL = sharedGlobalObject.URL;
exports.URLSearchParams = sharedGlobalObject.URLSearchParams;

exports.parseURL = urlStateMachine.parseURL;
exports.basicURLParse = urlStateMachine.basicURLParse;
exports.serializeURL = urlStateMachine.serializeURL;
exports.serializePath = urlStateMachine.serializePath;
exports.serializeHost = urlStateMachine.serializeHost;
exports.serializeInteger = urlStateMachine.serializeInteger;
exports.serializeURLOrigin = urlStateMachine.serializeURLOrigin;
exports.setTheUsername = urlStateMachine.setTheUsername;
exports.setThePassword = urlStateMachine.setThePassword;
exports.cannotHaveAUsernamePasswordPort = urlStateMachine.cannotHaveAUsernamePasswordPort;
exports.hasAnOpaquePath = urlStateMachine.hasAnOpaquePath;

exports.percentDecodeString = percentEncoding.percentDecodeString;
exports.percentDecodeBytes = percentEncoding.percentDecodeBytes;

//const {MongoClient} = require("mongodb");
const MongoClient = require('mongodb').MongoClient;

// import mongoose from "mongoose";

const mongoose = require('mongoose');

//const Exercise = require('.\Models\Exercises');



mongoose.connect("mongodb+srv://dbJade:jade@fitplandb.uf2iwoo.mongodb.net/?retryWrites=true&w=majority")

const personSchema = new mongoose.Schema({
    name: String,
    age: Number,
    email: String
  });
  
const Person = mongoose.model('Person', personSchema);

const newPerson = new Person({
name: 'John Doe',
age: 35,
email: 'johndoe@example.com'
});

newPerson.save()
  .then((savedPerson) => {
    console.log(savedPerson.name + ' saved to database.');
  })
  .catch((err) => {
    console.error(err);
  });



// async function main() {
// 	// we'll add code here soon

//     const uri = "mongodb+srv://dbJade:jade@fitplandb.uf2iwoo.mongodb.net/?retryWrites=true&w=majority";

//     // create an instance of mongoclient
//     const client = new MongoClient(uri);

 

//     // connecting to the cluster
//     try {
    
//         await client.connect();

//         // ready to interact with the database - listing the databses 
//         // await listDatabases(client);
    
//         //select a database
//         const db = client.db('ActivitiesDB');
    
//         //select a collection
//         const collection = db.collection('Activities')

//         //insert one doc
//         const result = await  collection.insertOne({DayOfWeek: 'Tuesday', Exercise: "Yoga"});
//         console.log('Data inserted successfully into MongoDB', result);

//     } catch (err) {
//         console.log('Error occurred while inserting data into MongoDB', err);
//       }

// }//end main

// //calling main function
// main().catch(console.error);








